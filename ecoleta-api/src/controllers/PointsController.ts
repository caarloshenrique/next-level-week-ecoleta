import { Request, Response } from "express";
import knex from "../database/connection";

class PointsController {
  async index(request: Request, response: Response) {
    const { city, uf, items } = request.query;

    const parsedItems = String(items)
      .split(",")
      .map((item) => Number(item.trim()));

    const points = await knex("points")
      .join("point_items", "points.id", "=", "point_items.point_id")
      .whereIn("point_items.item_id", parsedItems)
      .where("city", String(city))
      .where("uf", String(uf))
      .distinct()
      .select("points.*");

    return response.json(points);
  }

  async show(request: Request, response: Response) {
    const { id } = request.params;

    const point = await knex("points").where("id", id).first();

    if (!point) {
      return response.status(400).json({ message: "Point not found" });
    }

    const items = await knex("items")
      .join("point_items", "items.id", "=", "point_items.item_id")
      .where("point_items.point_id", id)
      .select("items_title");

    return response.json({ point, items });
  }

  async create(request: Request, response: Response) {
    const {
      name,
      email,
      whatsapp,
      latitude,
      longitude,
      city,
      uf,
      items,
    } = request.body;

    const trx = await knex.transaction();

    const point = {
      image:
        "data:image/jpeg;base64,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",
      name,
      email,
      whatsapp,
      latitude,
      longitude,
      city,
      uf,
    };

    const insertedIds = await trx("points").insert(point);

    const point_id = insertedIds[0];

    const pointItems = items.map((item_id: number) => {
      return {
        item_id,
        point_id,
      };
    });

    await trx("point_items").insert(pointItems);

    await trx.commit();

    return response.json({
      id: point_id,
      ...point,
    });
  }
}

export default PointsController;
